import { Callout } from 'nextra/components';

# 环境变量设置

<Callout type='info'>
	本系统有部分变量采用环境变量来便于不同环境下的部署，所以这一部分的正确配置极其重要！
</Callout>

## 根目录 env

| 名称                                     | 说明                           |
| ---------------------------------------- | ------------------------------ |
| `MYSQL_ROOT_PASSWORD`                    | mysql root 密码                |
| `MYSQL_DATABASE`                         | mysql 数据库名称               |
| `FILE_SYSTEM_USER_NAME`                  | 文件系统用户名                 |
| `FILE_SYSTEM_PASSWORD`                   | 文件系统密码                   |
| `NEO4J_AUTH`                             | neo4j 认证                     |
| `ETCD_AUTO_COMPACTION_MODE`              | 启用 etcd 的自动压缩机制       |
| `ETCD_AUTO_COMPACTION_RETENTION`         | 压缩保留的修订数               |
| `ETCD_QUOTA_BACKEND_BYTES`               | 设置 etcd 后端数据库的存储配额 |
| `ETCD_SNAPSHOT_COUNT`                    | 写入多少事务后生成一个快照     |
| `MILVUS_MINIO_USER_NAME`                 | milvus 的 minio 服务的用户名   |
| `MILVUS_MINIO_PASSWORD`                  | milvus 的 minio 服务的密码     |
| `HF_ENDPOINT`                            | huggingface 服务地址           |
| `NEXT_PUBLIC_API_PREFIX`                 | 核心后端服务前缀               |
| `NEXT_PUBLIC_NOTIFICATION_WS_API_PREFIX` | 文件服务接口前缀               |
| `NEXT_PUBLIC_DAILY_HOT_API_PREFIX`       | 热搜服务接口前缀               |

## web 服务

| 名称                                     | 说明                                                |
| ---------------------------------------- | --------------------------------------------------- |
| `NEXT_PUBLIC_API_PREFIX`                 | 核心后端服务前缀                                    |
| `NEXT_PUBLIC_NOTIFICATION_WS_API_PREFIX` | 核心后端服务中的实时通知服务部分 websocket 接口前缀 |
| `NEXT_PUBLIC_FILE_API_PREFIX`            | 文件服务接口前缀                                    |
| `NEXT_PUBLIC_DAILY_HOT_API_PREFIX`       | 热搜服务接口前缀                                    |

## api 服务

| 名称                           | 说明                        |
| ------------------------------ | --------------------------- |
| `SECRET_KEY`                   | 用户认证体系 JWT 机制的密钥 |
| `ALGORITHM`                    | JWT 加密算法                |
| `ACCESS_TOKEN_EXPIRE_MINUTES`  | 用户 access_token 过期时间  |
| `REFRESH_TOKEN_EXPIRE_MINUTES` | 用户 refresh_token 过期时间 |
| `REDIS_URL`                    | redis 连接地址              |
| `REDIS_PASSWORD`               | redis 连接密码              |
| `REDIS_PORT`                   | redis 连接端口              |
| `USER_NAME`                    | mysql 用户名                |
| `PASSWORD`                     | mysql 密码                  |
| `DATABASE_URL`                 | mysql 主机                  |
| `DATABASE_NAME`                | mysql 数据库名称            |
| `MILVUS_CLUSTER_ENDPOINT`      | milvus 连接地址             |
| `MILVUS_TOKEN`                 | milvus 连接 token           |
| `FILE_SERVER_URL`              | 文件服务地址                |

## file-backend

| 名称                           | 说明                        |
| ------------------------------ | --------------------------- |
| `SECRET_KEY`                   | 用户认证体系 JWT 机制的密钥 |
| `ALGORITHM`                    | JWT 加密算法                |
| `ACCESS_TOKEN_EXPIRE_MINUTES`  | 用户 access_token 过期时间  |
| `REFRESH_TOKEN_EXPIRE_MINUTES` | 用户 refresh_token 过期时间 |
| `USER_NAME`                    | mysql 用户名                |
| `PASSWORD`                     | mysql 密码                  |
| `DATABASE_URL`                 | mysql 主机                  |
| `DATABASE_NAME`                | mysql 数据库名称            |

## celery-wroker

| 名称                           | 说明                        |
| ------------------------------ | --------------------------- |
| `SECRET_KEY`                   | 用户认证体系 JWT 机制的密钥 |
| `ALGORITHM`                    | JWT 加密算法                |
| `ACCESS_TOKEN_EXPIRE_MINUTES`  | 用户 access_token 过期时间  |
| `REFRESH_TOKEN_EXPIRE_MINUTES` | 用户 refresh_token 过期时间 |
| `REDIS_URL`                    | redis 连接地址              |
| `REDIS_PASSWORD`               | redis 连接密码              |
| `REDIS_PORT`                   | redis 连接端口              |
| `USER_NAME`                    | mysql 用户名                |
| `PASSWORD`                     | mysql 密码                  |
| `DATABASE_URL`                 | mysql 主机                  |
| `DATABASE_NAME`                | mysql 数据库名称            |
| `MILVUS_CLUSTER_ENDPOINT`      | milvus 连接地址             |
| `MILVUS_TOKEN`                 | milvus 连接 token           |
| `FILE_SERVER_URL`              | 文件服务地址                |
