import { Callout } from 'nextra/components';
import { Steps } from 'nextra/components';
import WeComCode from '@/components/wecom-code';

# 快速开始

可加入我们的微信交流群<WeComCode />进行交流。

## Docker方式

<Steps>

### 克隆仓库到本地

```shell
git clone git@github.com:Qingyon-AI/Revornix.git
```

### docker 拉取必要仓库并启动

```shell
docker compose up -d
```

当所有服务均启动之后，访问 http://localhost 即可看到前端页面

</Steps>


## 手动部署方式

客观来讲当前的部署和安装对于大部分人来说确实是非常复杂。

<Callout>
	强烈建议使用 conda 针对每个服务创建不同的 python 虚拟环境，因为不同服务之间的
	python
	依赖可能存在冲突。当然如果你有别的python虚拟环境管理工具，也可以使用别的。
</Callout>

<Steps>

### 克隆仓库到本地

```shell
git clone git@github.com:Qingyon-AI/Revornix.git
```

### docker 拉取必要仓库并启动

这里将会启动本地milvus作为向量存储查找服务

```shell
docker compose up -d
```

### 启动核心后端服务

```shell
cd api
cp .env.example .env.development
# 配置环境变量 详情见环境变量文档
conda create -n api python=3.11 -y
pip install -r ./requirements.txt
fastapi dev --port 8001
```

### 启动文件后端服务

```shell
cd file-backend
cp .env.example .env.development
# 配置环境变量 详情见环境变量文档
conda create -n file-backend python=3.11 -y
pip install -r ./requirements.txt
fastapi dev --port 8002
```

### 启动 celery 任务序列

```shell
cd celery-worker
cp .env.example .env.development
# 配置环境变量 详情见环境变量文档
conda create -n celery-worker python=3.11 -y
pip install -r ./requirements.txt
celery -A common.celery.app.celery_app worker --loglevel=info --pool threads
```

### 启动前端服务

```shell
cd web
pnpm i
pnpm dev
```

</Steps>

当你将所有服务均启动之后，访问 http://localhost:3000 即可看到前端页面
